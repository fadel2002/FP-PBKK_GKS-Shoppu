version: "3"
services:
  nama-service:
    container_name: gks-shoppu
    image: mirzaq19/temanhewan-api
    volumes:
      - ./src:/var/www/html
    env_file: .env
    dns:
      - 1.1.1.1
      - 1.0.0.1
    extra_hosts:
      - "host.docker.internal:host-gateway"
    networks:
      - nginx-proxy-network

  mysql:
    container_name: mysql
    image: mysql:latest
    restart: unless-stopped
    tty: true
    ports:
      - "4306:3306"
    volumes:
      - ./data/mysql:/var/lib/mysql
    environment:
      - MYSQL_ROOT_PASSWORD=25052002
      - MYSQL_DATABASE=gks_db
      - MYSQL_USER=pgn1@172.18.0.4
      - MYSQL_PASSWORD=25052002
    networks:
      - nginx-proxy-network

networks:
  nginx-proxy-network:
    external: true
